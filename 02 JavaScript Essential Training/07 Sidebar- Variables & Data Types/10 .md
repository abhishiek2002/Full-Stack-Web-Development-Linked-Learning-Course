Challenge intro: Calculate sales tax
(upbeat music) - [Instructor] Computers are really good at doing mathematical calculations. That's why they're called computers. And working with JavaScript, you'll often use math formulas to accomplish tasks. In this challenge, you'll get to try this for yourself by creating a basic sales tax calculator for a store. In the test code setup, you'll find an almost completed setup to calculate taxes and totals for a store in British Columbia, Canada. There are two taxes here, the GST, which is 5%, and the PST, which is 8%, and both of these taxes need to be applied independently to the before tax total to get the final price. Your task is to complete the calculateTotal function by adding GST, PST, and sum properties to the totals objects and performing the necessary math to get the right numbers in each property. You can see at the bottom here that all this information gets output at the end and you want this output to be correct. For reference, the formula for finding the percentage of a number is to take the original number, in this case the price before tax, and then multiply it by the percentage, divided by 100. In this challenge the testing code provides this prices array and it'll randomly pick one of those price arrays to display every time you run the test. That means you can also add additional price arrays if you want to try different combinations. If you need any further information about the challenge, you can open the instructions panel and you have a full breakdown of exactly what you need to do.



Solution: Calculate sales tax
(upbeat music) - [Instructor] Solving a challenge like this, it's a good idea to start by looking at what the code is already doing, so we can see how it all fits together. We'll start down here in the Test code area. So we have this prices array, which is an array of arrays of prices. Then we have a constant called randomPrices that uses Math that just generates a random response. And then down here, we have this constant called result, and the result calls in a function called showTotals that grabs the prices array and then one of the items randomly. So that's how we're passing the prices in. Okay, so we're looking for showTotals then. I'll scroll through my Answer code, and down here, we have showTotals. showTotals receives an array of prices, and then it sets up a new constant called totals and calls in calculateTotal and passes prices into that function. Whatever it gets in return, it then uses to output this content down here. So here it outputs before tax, the GST value, the PST value, and the sum. So what is this calculateTotal function then? It sits up here. calculateTotal receives the prices array, then sets up a new object called totals, and then inside that object, it starts by setting up the beforeTax value, and this piece of code here just grabs all the items within the prices array and adds them together into one item, so it sums up whatever's in the array into one value. What we need to do now is add the additional values for GST, PST, and sum. And you can see down here, we need to name them GST, all caps, PST, all caps, and sum, all lower caps. So let's start by saying totals.GST, and here, we want to grab totals.beforeTax, that's the value from up here, and then we multiply it by the taxGST value, which is defined up here, taxGST, and divide it by 100. That gives us just the taxes from the GST tax. Then, we set up another one, I'll just copy and paste here and swap out GST for PST, and do it over here too. So now we have both the GST value and the PST value. And then finally, I need to create totals.sum, which combines the beforeTax with the GST value and the PST value. So totals.sum = totals.beforeTax + totals.GST + totals.PST. That's all I need to do here. Now, I can click Test My Code, and in the output you'll see all the tests passed, and down here, we get the full return, which is the price before tax is 3.99, of which GST is 20 cents and PST is 32 cents, and the sum total is 4.51. If I run the test again, it'll pick a different array here. So if I run it again, you'll get a different set of answers, but the code still works. And this demonstrates why we use JavaScript for this and why JavaScript is so useful. You can imagine this would be part of a larger shopping cart application where people add in products, the prices get calculated, the taxes get calculated, and output as they change what's in the cart.