Solving a merge conflict
- [Instructor] We are going to talk about a common issue you might run into when using Git, a merge conflict Merge conflicts usually happen when multiple people are working at the same file. If two people make changes to the same part of the file and then try to merge their work, Git doesn't know which version to keep. Let's go through a simple merge conflict and see how to resolve it. For this example, we first need to create a merge conflict. To do that, first, open up your local environment or your code space. Make sure you don't use Git pull. Now we're going to open up the remote repository in GitHub. Click on the file gitStatusDemo.md. When it opens up, click the little pencil to edit the file. Add something to the first line. Commit the change and save it. Now let's move to the code space. We've opened gitStatusDemo.md and we're going to add a different change here. Save that and now I'm going to commit. Git commit -m and then our message. Now I will try to push it and what will happen is Git will reject it. And it will say that I cannot do that. I first need to pull something because something has changed in the remote repository. So I'll clear my screen so we get a good view and I'll use git pull. We now get a warning message and it tells us that the branches are divergent, so we need to specify what to do with them. We can do that by setting one of these configurations. I will not explain these configurations here as it is a bit out of scope for this course. We are going to use the top one as that is the default behavior. Now we use git pull again and we get an error telling there's a merge conflict that we need to fix. This happens because Git sees the same file has been changed in both my local and my remote repository. It doesn't know which version to keep, so it asks me to fix the conflict and then commit the changes. Now, if I open up the text editor, I can see exactly where the conflict is. I can see the current change, which is the change I just created, and I can see the incoming change, which is the one that I created in the remote repository. At this point, Git needs me to decide which version to keep. If you're using Visual Studio Code, you can see all the options right at the top. I can accept the current change, I can accept the incoming change, I can accept both, or I can compare the changes to have some extra review. In this case, this is a pretty simple conflict. I accept the current change so I can keep the version I created lost and override the remote one. After that, I can save this file, stage it again by using add, and commit it again. Now, when I type git push, the changes go through and a merge conflict has been resolved. If I now look at my remote repository and refresh, I can see that the change I made last has now been accepted here. Now, this was a very basic merge conflict. In real projects, they can be much more complicated, especially when you're dealing with lots of files and lots of conflicting changes. My advice is to take your time with each merge conflict. If you're stuck, check online, chances are someone has had the same issue as you and found a solution. And if you're completely lost and it's not a production repository, there's no shame in just starting fresh and recreating your local repository. It happens to everyone.