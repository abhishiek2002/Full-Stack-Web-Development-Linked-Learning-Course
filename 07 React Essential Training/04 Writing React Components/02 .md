Adding keys to list items
- [Instructor] In the previous video, we rendered a list of menu items dynamically, meaning that if I added another item to this list, like minestrone soup, we should see that added automatically. We also saw in the browser console though, that there was an error here. That each child in a list should have a unique key property. A key is like an ID that helps you keep everything in sync. It's possible with React that things might get out of sync, particularly if something is added to the DOM at the beginning or the middle, instead of at the end of the list. So a quick way to fix this here on line 21 would be to add a key called I, some sort of value that we can assign here on line 22 so that every time we go through this little loop here, it's going to add this key dynamically. Now, as soon as I do that, we see, let me clear out the console and refresh, we see that these items are added, but we no longer have that key warning in the console. But the React documentation actually recommends against this practice. It says that there can still be problems with rendering, which that's not really the point of keys in the first place. So here's one way that I can handle this. I could create a value called dishObjects, and then we're going to take these items, items.map, and we're going to use the map too for each one of these items, create an object. So that's going to look like this. We'll say dish and I, we want to return an object. So we're going to wrap the return in parentheses, and we'll say ID is whatever I is. And then the title is whatever dish is. So let's console log dishObjects just to see what this gives us. Ideally, if we go back to our browser console, we should see an array of four items, each with an ID and a title. Pretty cool. What we can do with our dishObjects then is pass it in to this property. So we'll say dishes is equal to dishObjects. Now back to our project. There's some sort of an error, and that's because we're not referencing the properties appropriately. So check this out. Dishes is being passed in, but we're going to say instead of I here, we will say dish.id and dish.title. Back here, we should see everything rendering okay. Pretty cool. So you might be thinking, "Isn't this the same thing as using an index again?" Not really, because the data is stable. We've created it before our item is being rendered, not when it's being rendered. So your data already might look like this too. You can just use an ID or any other unique field as the key if you're dealing with an array of objects. So key is here, keep our data in sync as our applications state, and our applications data changes throughout time.