Understanding the useState hook
- [Instructor] Managing state in a React application is really important, and the most modern way to handle state variables in an app is to use a function called useState. Let's take a look. The first thing I want to do here on line one in our app.jsx file is import useState from react. This function is going to be used to update the state of our application. So let's go ahead and collapse the header, collapse the items, collapse our dishObjects, and collapse main, because what we really want to focus on right now is our app component. This is where we're going to use that function. Now on line 53 here, before we are returning anything inside of this component, I want to call the useState hook. So if useState is this function, it needs to be set to something, and just out of curiosity, let's see what this returns. So we'll say console.log what. So when I call this, what is that? So we can pop this open, and we can see there is an array returned. The first item in the array is undefined. The second item is this function. So this is telling me that I have a little container that I can put a property and a function that's going to update that state property. So that's going to use array destructuring, as you might expect. We open and close a set of square brackets, and then the first item we place in here will be, let's call it status, and then we'll call this setStatus, and then we'll set that equal to useState, and then let's go ahead and say Open. So at this point, if we go back to our console log, there's an error, of course, because what is not defined? What is defined is status, so if we run this, we can always clear out our console and hit refresh, and this is telling us that our initial status is open. Let's also find, where am I logging there? I feel like we can let that go, right? So let's go over to our main JSX file, and get rid of that. Little cleanup, and now let's make use of our status here. So if I have a variable called status, setStatus is a function that updates that variable, and then whenever I pass into useState is going to be the default or the initial state whenever my application, whenever this component first loads. So check this out. We're going to add here to the div, we'll say h1, and we'll say the restaurant is currently status. So now here we can see the restaurant is currently open. Now if I change the status, so the way that I would do that is we can add a button here. The button is going to say, we'll say Close Restaurant, and then we will add an onClick. This onClick is going to call the setStatus, and it'll take in whatever that new status is, so we'll say Closed. Once we give that a save, we go back to our browser. We have a button here that says Close Restaurant. This is displaying whatever the current value is, but if I update the state, the restaurant is currently closed. So of course, there's way more that I can do with this. I probably want this eventually to be a toggle so I can go back and forth, but at the moment, we're seeing how we set an initial state, we create a state variable, we have a function that updates that state, and then anytime the state changes, we're going to re-render this particular component, and then the set status function is going to take in whatever we want that new status to be.