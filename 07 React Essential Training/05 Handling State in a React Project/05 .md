Managing state with useReducer
- [Instructor] Let's make some adjustments here to our App.jsx so that we can handle our state management in a slightly different way. So here we're going to import useReducer from React, and we will use that function. This is just another hook that's supplied to us by the React library. We're going to use it here on line 60 within the App component. So I'm just going to comment out our status here, our useState hook, and we're going to refactor it using useReducer. So a couple things to know about whenever we call useReducer, it's going to return an array of two items again. This time the two items are going to be that State variable, like you might expect, as well as some sort of a function that's going to dispatch an event. So the useReducer function is taking in that reducer as the first argument. All right, so we're going to take in a status, we're going to return whatever the opposite of that status is. All right, so all of that being said, we can take this dispatch function and give it a name that's a little more clear. In this case, we'll call it toggle. I'm going to pass the toggle in to onStatus, so we'll pass that down the tree, to the main component, and then I don't have setStatus anymore. Instead of having to pass this and making sure the right variable goes in and all of that, all I can say here is toggle. So that's potentially a little less error prone because you're asking people to just write the name of the function versus creating a whole bit of logic there. All the logic is actually built into the reducer itself. So let's go back over to the app. The initial state is working correctly. We see that as the page loads, our restaurant is open. Now when I click Close Restaurant, it's going to close it, and everything still works from the button down here as well. The button that is part of that child component is still honoring all of the rules that have been set up with useReducer. So useReducer is a really useful function. It is one that manages a more complex state, and I really think the benefit here is that we're able to pass in just the name of the function without having to worry about the logic that is built here on line 61.