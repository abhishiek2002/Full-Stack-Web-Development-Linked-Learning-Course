Working with the useEffect hook
- [Instructor] Another important hook that's part of the React library is useEffect. useEffect can feel a little tricky because it's typically used to manage side effects that aren't really related to a component's render. So things like console messages, loading data, working with animations, these often can benefit from useEffect. So let's take a basic look at this by first importing it. We'll say useEffect. And then within the body of the component, in this case, we'll use useReducer for our status, and then let's go ahead on line 64 and say useEffect and then useEffect should take in a function. This function is going to return a console log. The console log is going to read the status. How about the restaurant is status? Again, if true, return this. If false, return this. Nice. So remember we're doing this within the template string. These are the backticks that you see here. Now if I go over to my browser here, nothing seems to have changed too much, but the real interesting part is the browser console. So I'm going to hit Command + Option + J. It'll say the restaurant is open. And then when I click Close Restaurant, it's going to fire again. By default, it's going to run whenever that state value changes, but you can be a little bit more granular with that. So if you pass an empty array as the second argument to this, this is going to be called on first render. So if I go back here and we refresh, it says the restaurant is open. Let me clear this out so we can actually see it. I'll hit Refresh. The restaurant is open. If I click Close Restaurant/Open Restaurant, everything is being affected on the page, but the side effect isn't happening again. That's because we've passed in this empty array that says just call this function when the app first renders. It's also possible to specifically ask for the function to be called if certain values change. So if we say status and then we start closing and opening the restaurant again, that function is going to fire every time that value changes. So this is one that is important to know about. Again, useEffect will take in two things, a callback function as well as what's called the dependency array. We can use it to define nothing, like this should only run once, or to define that it should be called whenever certain variables, certain values change.