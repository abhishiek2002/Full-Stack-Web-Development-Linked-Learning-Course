Passing data as props
- [Instructor] We've gotten to see how all of our components by default in an XJS application are server components. This means that they're going to be server rendered as HTML, and then anything that is going to be interactive, we need to handle that in a slightly different way. So we're going to make some adjustments here specifically to our hotels component. And this component is going to start to introduce us to some of these different concepts. Now, the first thing I want to do here is I want to create an asynchronous function. This time we need to load some data for this page. So we're going to grab it like we did before. So we'll say const res equals await fetch. So our response is going to fetch from https, snowtooth-hotel-api.fly.dev. Okay, and once we do that, we can return response.json. So make the request and return it as JSON. Just like we did before, we are to use a $100,000 word, co-locating our request with our component. So we are going to grab it here, getData. And then we're going to, within our component, we have a squiggly red underline, so let's fix that. We need to make that an asynchronous function in order to use a weight within that context. So once we do that, we can make use of some of this data. This burned me last time, so I'm going to learn from my mistake, and I'm going to say JSON.stringify. And we'll just stringify that data. So this will allow me to take a look at it and know what I want to parse out of that data inside of that response. So let's make sure that we are in the right context here. We're going to look in 06_02b/next-react-project. Then we're going to run npn run dev. We'll take a look at the hotels. And this is going to show me all of this data. So, so far so good. We're seeing the data in context. Now we need to create some components based on that. So let's create a function called HotelBlock. And HotelBlock is going to be this dynamic component that we're going to render here within our page. So we're still want to keep the div, but we're going to place something in there that's a little bit more dynamic. So let's take a look at what that might look like. Our HotelBlock, we're going to say return, a div, and then inside of that div, we'll use an h2 that displays the name. Now, the name is going to be a property that we pass down from the data. So let's make sure to destructure that. Think of this as being kind of like a presentation component. It's just presenting some UI. And the page is actually going to be responsible for passing that data down. So we know how to pass data down to a child component, right? We need to pass it down as props. So if we take another look at our HotelBlock, remember, we're going to render this inside of this div so we can map over the data that's returned. And for each hotel, we're going to use HotelBlock. And HotelBlock is going to give us the values that we need. So we'll say key equals hotel.id. Then we're also going to need the name. So name equals hotel.name. Nice. So now if we go back to our hotels, we see these little components being rendered. We're just grabbing the name for each. And if we wanted to make this more complex, we could. There's always a way to make it more complex, right? So inside of the HotelBlock, we're going to parse another one of those variables, parse another one of these properties. So we'll say capacity. Then I can also grab capacity from properties, and of course, I need to pass it down here, capacity equals hotel.capacity. All right, so that's starting to show up. Maybe I should use JSX and not just type that in. There we go. So now we see the capacity for that hotel. Pretty cool. So again, we can parse out any of those values. One other thing that I want to fix that is upset with us is this property class thing. So that's just saying that I'm trying to use, and I did this when I was trying to add those tailwind classes, I used class like HTML, but we really should be using className. And you'll notice that I did it two different ways. So that's obviously not going to fly. It's a warning, not an error, but it still is nice to clean up. Okay, so we cleaned that up. We created our HotelBlock. We're passing down data to a child component. In the next video, we'll take a look at how we can display some client details using a client component.